!function(){angular.module("angular-draggable",[]).directive("ngDraggable",["$document","$compile","$window",function(a,b,c){return{restrict:"EA",template:"<div ng-transclude></div>",transclude:!0,replace:!0,scope:{lockx:"=",locky:"=",resizex:"=",resizey:"=",left:"=",top:"=",width:"=",height:"=",min:"@",onResizeX:"&",onResizeY:"&",onDoubleClick:"&",lockToScreenSize:"=",sliderControlX:"=",sliderControlY:"="},link:function(d,f){var g=0,h=0,i=d.left||0,j=d.top||0,k=d.min?parseInt(d.min):100,l=angular.element(c),m=null;d.$watch(function(){return f.height()},function(a){console.log("newHeight",a),m=a});var n=null;d.$watch(function(){return f.width()},function(a){console.log("newWidth",a),n=a});var o=l.height()-m,p=l.width()-n,q=0;d.onResizeX=d.onResizeX||angular.noop,d.onResizeY=d.onResizeY||angular.noop;var r=function(a){i=a.screenX-g,j=a.screenY-h,angular.isDefined(d.left)&&!d.lockx&&(!d.lockToScreenSize||i>0)&&(!d.lockToScreenSize||i+n<l.width())&&(d.left=i),angular.isDefined(d.top)&&!d.locky&&(!d.lockToScreenSize||j>0)&&(!d.lockToScreenSize||j+m<l.height())&&(d.top=j),d.$apply(),d.lockx||d.lockToScreenSize&&!(i>0)||d.lockToScreenSize&&!(i+n<l.width())?d.lockx||d.lockToScreenSize&&!(i<0)?d.lockx||d.lockToScreenSize&&!(i+n>l.width())||(angular.isDefined(d.sliderControlY)&&(d.sliderControlY=100),f.css({left:l.width()-n+"px"})):(angular.isDefined(d.sliderControlY)&&(d.sliderControlY=0),f.css({left:"0px"})):(angular.isDefined(d.sliderControlY)&&(d.sliderControlY=i/(p/100)),f.css({left:i+"px"})),d.locky||d.lockToScreenSize&&!(j>0)||d.lockToScreenSize&&!(j+m<l.height())?d.locky||d.lockToScreenSize&&!(j<0)?d.locky||d.lockToScreenSize&&!(j+m>l.height())||(angular.isDefined(d.sliderControlX)&&(d.sliderControlX=100),f.css({top:l.height()-m+"px"})):(angular.isDefined(d.sliderControlX)&&(d.sliderControlX=0),f.css({top:"0px"})):(angular.isDefined(d.sliderControlX)&&(d.sliderControlX=j/(o/100)),f.css({top:j+"px"}))},s=function(){a.off("mousemove",r),a.off("mouseup",s)},t=function(b){b.preventDefault(),g=b.screenX-i,h=b.screenY-j,a.on("mousemove",r),a.on("mouseup",s),q++,setTimeout(function(){q=0},300),2===q&&(console.log("doubleClick"),d.onDoubleClick())};if(f.css({position:"absolute",cursor:"pointer",top:j+"px",left:i+"px"}),angular.isDefined(d.width)&&f.css({width:d.width+"px"}),angular.isDefined(d.height)&&f.css({height:d.height+"px"}),f.on("mousedown",t),d.resizex){var u=0,v=d.width||f.prop("offsetWidth"),w=angular.element("<div/>"),x=angular.element("<div/>");w.css({zIndex:90,cursor:"e-resize",width:"7px",right:"-5px",top:0,height:"100%",position:"absolute",display:"block",touchAction:"none"}),x.css({zIndex:90,cursor:"w-resize",width:"7px",left:"-5px",top:0,height:"100%",position:"absolute",display:"block",touchAction:"none"});var y=function(a){var b=a.screenX-u;v=+v+b,v<k&&(v=k),angular.isDefined(d.width)&&(d.width=v,d.$apply()),u=a.screenX,f.css({width:v+"px"})},z=function(a){var b=a.screenX-u;i=parseInt(i)+parseInt(b),v=+v-b,v<k&&(i=i+v-k,v=k),angular.isDefined(d.width)&&(d.width=v,d.$apply()),u=a.screenX,f.css({width:v+"px",left:i+"px"})},A=function(){try{d.onResizeX()}catch(a){console.log("ResizeY callback has following error :: "+e.message)}finally{a.off("mousemove",y),a.off("mouseup",A)}},B=function(){try{d.onResizeX()}catch(a){console.log("ResizeY callback has following error :: "+e.message)}finally{a.off("mousemove",z),a.off("mouseup",B)}},C=function(b){b.preventDefault(),b.stopPropagation(),u=b.screenX,a.on("mousemove",y),a.on("mouseup",A)},D=function(b){b.preventDefault(),b.stopPropagation(),u=b.screenX,a.on("mousemove",z),a.on("mouseup",B)};w.bind("mousedown",C),x.bind("mousedown",D),b(w)(d),f.append(w),b(x)(d),f.append(x)}if(d.resizey){var E=d.height||f.prop("offsetHeight"),F=0,G=angular.element("<div/>"),H=angular.element("<div/>");G.css({zIndex:90,cursor:"s-resize",height:"7px",bottom:"-5px",left:0,width:"100%",position:"absolute",display:"block",touchAction:"none"}),H.css({zIndex:90,cursor:"n-resize",height:"7px",top:"-5px",left:0,width:"100%",position:"absolute",display:"block",touchAction:"none"});var I=function(a){var b=a.screenY-F;E=+E-b,j+=b,angular.isDefined(d.height)&&(d.height=E,d.$apply()),F=a.screenY,f.css({height:E+"px",top:j+"px"})},J=function(a){E=+E+a.screenY-F,angular.isDefined(d.height)&&(d.height=E,d.$apply()),F=a.screenY,f.css({height:E+"px"})},K=function(){try{d.onResizeY()}catch(a){console.log("ResizeY callback has following error :: "+a.message)}finally{a.off("mousemove",I),a.off("mouseup",K)}},L=function(){try{d.onResizeY()}catch(a){console.log("ResizeY callback has following error :: "+e.message)}finally{a.off("mousemove",J),a.off("mouseup",L)}},M=function(b){b.preventDefault(),b.stopPropagation(),F=b.screenY,a.on("mousemove",I),a.on("mouseup",K)},N=function(b){b.preventDefault(),b.stopPropagation(),F=b.screenY,a.on("mousemove",J),a.on("mouseup",L)};H.bind("mousedown",M),G.bind("mousedown",N),b(H)(d),f.append(H),b(G)(d),f.append(G)}}}}])}();
//# sourceMappingURL=angular-draggable.min.js.map