!function(){angular.module("angular-draggable",[]).directive("ngDraggable",["$document","$compile","$window",function(a,b,c){return{restrict:"EA",template:"<div ng-transclude></div>",transclude:!0,replace:!0,scope:{lockx:"=",locky:"=",resizex:"=",resizey:"=",left:"=",top:"=",width:"=",height:"=",min:"@",onResizeX:"&",onResizeY:"&",lockToScreenSize:"=",sliderControlX:"=",sliderControlY:"="},link:function(d,f){var g=0,h=0,i=d.left||0,j=d.top||0,k=d.min?parseInt(d.min):100,l=angular.element(c),m=null;d.$watch(function(){return f.height()},function(a){console.log("newHeight",a),m=a});var n=null;d.$watch(function(){return f.width()},function(a){console.log("newWidth",a),n=a});var o=l.height()-m,p=l.width()-n;d.onResizeX=d.onResizeX||angular.noop,d.onResizeY=d.onResizeY||angular.noop;var q=function(a){if(i=a.screenX-g,j=a.screenY-h,angular.isDefined(d.left)&&!d.lockx&&(!d.lockToScreenSize||i>0)&&(!d.lockToScreenSize||i+n<l.width())&&(d.left=i),angular.isDefined(d.top)&&!d.locky&&(!d.lockToScreenSize||j>0)&&(!d.lockToScreenSize||j+m<l.height())&&(d.top=j),d.$apply(),d.lockx||d.lockToScreenSize&&!(i>0)||d.lockToScreenSize&&!(i+n<l.width()))d.lockx||d.lockToScreenSize&&!(i<0)?d.lockx||d.lockToScreenSize&&!(i+n>l.width())||(angular.isDefined(d.sliderControlY)&&(d.sliderControlY=100),f.css({left:l.width()-n+"px"})):(angular.isDefined(d.sliderControlY)&&(d.sliderControlY=0),f.css({left:"0px"}));else{if(angular.isDefined(d.sliderControlY)){var b=p/100;d.sliderControlY=i/b}f.css({left:i+"px"})}if(d.locky||d.lockToScreenSize&&!(j>0)||d.lockToScreenSize&&!(j+m<l.height()))d.locky||d.lockToScreenSize&&!(j<0)?d.locky||d.lockToScreenSize&&!(j+m>l.height())||(angular.isDefined(d.sliderControlX)&&(d.sliderControlX=100),f.css({top:l.height()-m+"px"})):(angular.isDefined(d.sliderControlX)&&(d.sliderControlX=0),f.css({top:"0px"}));else{if(angular.isDefined(d.sliderControlX))var b=o/100;d.sliderControlX=j/b,f.css({top:j+"px"})}},r=function(){a.off("mousemove",q),a.off("mouseup",r)},s=function(b){b.preventDefault(),g=b.screenX-i,h=b.screenY-j,a.on("mousemove",q),a.on("mouseup",r)};if(f.css({position:"absolute",cursor:"pointer",top:j+"px",left:i+"px"}),angular.isDefined(d.width)&&f.css({width:d.width+"px"}),angular.isDefined(d.height)&&f.css({height:d.height+"px"}),f.on("mousedown",s),d.resizex){var t=0,u=d.width||f.prop("offsetWidth"),v=angular.element("<div/>"),w=angular.element("<div/>");v.css({zIndex:90,cursor:"e-resize",width:"7px",right:"-5px",top:0,height:"100%",position:"absolute",display:"block",touchAction:"none"}),w.css({zIndex:90,cursor:"w-resize",width:"7px",left:"-5px",top:0,height:"100%",position:"absolute",display:"block",touchAction:"none"});var x=function(a){var b=a.screenX-t;u=+u+b,u<k&&(u=k),angular.isDefined(d.width)&&(d.width=u,d.$apply()),t=a.screenX,f.css({width:u+"px"})},y=function(a){var b=a.screenX-t;i=parseInt(i)+parseInt(b),u=+u-b,u<k&&(i=i+u-k,u=k),angular.isDefined(d.width)&&(d.width=u,d.$apply()),t=a.screenX,f.css({width:u+"px",left:i+"px"})},z=function(){try{d.onResizeX()}catch(a){console.log("ResizeY callback has following error :: "+e.message)}finally{a.off("mousemove",x),a.off("mouseup",z)}},A=function(){try{d.onResizeX()}catch(a){console.log("ResizeY callback has following error :: "+e.message)}finally{a.off("mousemove",y),a.off("mouseup",A)}},B=function(b){b.preventDefault(),b.stopPropagation(),t=b.screenX,a.on("mousemove",x),a.on("mouseup",z)},C=function(b){b.preventDefault(),b.stopPropagation(),t=b.screenX,a.on("mousemove",y),a.on("mouseup",A)};v.bind("mousedown",B),w.bind("mousedown",C),b(v)(d),f.append(v),b(w)(d),f.append(w)}if(d.resizey){var D=d.height||f.prop("offsetHeight"),E=0,F=angular.element("<div/>"),G=angular.element("<div/>");F.css({zIndex:90,cursor:"s-resize",height:"7px",bottom:"-5px",left:0,width:"100%",position:"absolute",display:"block",touchAction:"none"}),G.css({zIndex:90,cursor:"n-resize",height:"7px",top:"-5px",left:0,width:"100%",position:"absolute",display:"block",touchAction:"none"});var H=function(a){var b=a.screenY-E;D=+D-b,j+=b,angular.isDefined(d.height)&&(d.height=D,d.$apply()),E=a.screenY,f.css({height:D+"px",top:j+"px"})},I=function(a){D=+D+a.screenY-E,angular.isDefined(d.height)&&(d.height=D,d.$apply()),E=a.screenY,f.css({height:D+"px"})},J=function(){try{d.onResizeY()}catch(a){console.log("ResizeY callback has following error :: "+a.message)}finally{a.off("mousemove",H),a.off("mouseup",J)}},K=function(){try{d.onResizeY()}catch(a){console.log("ResizeY callback has following error :: "+e.message)}finally{a.off("mousemove",I),a.off("mouseup",K)}},L=function(b){b.preventDefault(),b.stopPropagation(),E=b.screenY,a.on("mousemove",H),a.on("mouseup",J)},M=function(b){b.preventDefault(),b.stopPropagation(),E=b.screenY,a.on("mousemove",I),a.on("mouseup",K)};G.bind("mousedown",L),F.bind("mousedown",M),b(G)(d),f.append(G),b(F)(d),f.append(F)}}}}])}();
//# sourceMappingURL=angular-draggable.min.js.map